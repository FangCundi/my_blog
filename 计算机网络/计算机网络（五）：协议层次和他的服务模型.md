分层的体系结构
每个层次与其下面的层次结合在一起，在这层中执行了某种运动，也可以使用直接下层的服务。只要该层对其上层提供相同的服务，并且使用来自下面层次的相同服务，当某层的实现变化时，该系统的其余部分就可以保持不变。
协议分层：以分层的方式组织协议以及实现这些协议的网络硬件和软件。每个协议属于一层。具有概念化和结构化的优点（使得更新系统组件更容易），但缺点是某层可能重复其较低层的功能、某层的功能可能需要仅在其他某层才出现的信息，即违反了层次分离的目标。
一系列的层和网络协议组成了网络结构
协议栈：特定网络系统的一系列协议，或者说各层的所有协议。因特网的协议栈由5个层次组成：物理层、链路层、网络层、运输层、应用层。
a、应用层：
应用层是网络应用程序及其应用协议（如http `<web>`、DNS<域名系统>、SWTP<电子邮件的报文传输>、FTP<两个端系统间通信>）存留的地方。
应用层协议多分布在多个端系统上，一个端系统中的应用程序使用协议与另一个端系统中的应用程序交换信息分组，即报文。报文是位于应用层上的信息分组。
应用层的功能是为两端系统中的应用程序交换报文。支持用户通过用户代理（如浏览器）或网络接口使用网络（服务）
实现应用于应用之间的规范，这个应用不在同一个端系统上。只需要规范传输到应用的信息。即宏观上的两个端系统上的应用的传输。
b、运输层：不可更改
提供了在应用程序端点之间传输应用层报文的服务。有两个传输协议TCP（向他的应用程序提供面向连接的服务，包括应用层报文向目的地的确保传递和流量控制，可将长报文划分为短报文，并提供拥塞控制机制）和UDP（向他的应用程序提供无连接服务，不提供可靠性，没有流量控制，也没有阻塞控制）。两者任意一个都能传输应用层报文。
实现进程与进程之间的传输，这个进程不在同一个端系统上。只要规范传输到进程的信息。即宏观上的两个端系统上的应用所产生的进程之间的信息传输。
运输层实际上就是将数据传输到相应的进程，并有一个将报文划分为分组（运输层分组称为报文段）的过程。类似于交通工具。
SAP寻址，确保将完整报文提交给正确进程，如端口号
有流量控制、连接控制、差错控制的功能
c、网络层：不可更改
负责将称为数据报的网络层分组从一台主机移动到另一台主机。有IP协议（定义了数据报中的各个字段以及端系统和路由器如何作用到这些字段）和路由的选路协议（根据其从源传输到目的地）。两个都是必要的。
实现主机与主机之间（不同网络）的传输，有路由器，选择路由器（路由路径和转发规则）。只要规范传输到主机的信息。即宏观上的两个端系统之间的信息传输。
逻辑寻址：全局唯一逻辑地址，确保数据分组被送达目的主机，即IP地址
路由：路由器互联网络，负责路径选择
d、链路层：不可更改
通过一系列路由器在源和目的地之间发送分组，为了将分组从一个节点移动到路径上的下一个节点，网络层必须依靠链路层的服务，网络层将数据报下传给链路层，链路层沿着路径将数据报传递给下一个节点。链路层只负责相邻节点之间的传输，如果要跨网络需要上传给网络层决定走下一条链路（内网和外网）。
物理层提供的服务取决于应用于该链路的特定链路层协议。某些协议基于链路提供可靠传递，即从传输节点跨越一条链路到接收节点。注意，这种可靠传递服务不同于TCP，TCP针对一个端系统到一个端系统。
链路层的例子包括以太网、wifi、点对点协议（PPP）。网络层将接收来自每个不同的链路层协议的不同服务。链路层的分组被称为帧。
相邻主机之间的交互依赖于链路层，本层及以上的层的主机之间的交互是逻辑上的，只关心源和目的。
实现相邻节点（同一网络）之间的传输，未经过路由器。只要规范在同一个网络之间的信息。即宏观上每两个相邻节点（一条通信链路）之间的信息传输。
物理寻址：在帧头中增加发送端和/或接收端的物理地址表示数据帧的发送端和/或接收端
有流量控制（避免淹没接收端）、差错控制（检测并重传损坏或丢失帧，并避免重复帧）、访问控制（在任意给定时刻决定哪个设备拥有链路控制使用权）
e、物理层：不可更改
链路层的任务是将整个帧从一个网络元素移动到邻近的网络元素，而物理层的任务是将该帧中的每个比特从一个节点移动到下一个节点。
物理层中的协议仍然是链路相关的。
实现比特的传输，包括电气特性（那些引脚接收数据，那些引脚发送数据，高低电平代表什么逻辑含义）、机械特性、功能特性、规程特性。比特同步是通过时钟同步实现的。只要规范在一条物理线路上的信息。即微观上的每一根线上的信息传输。
f、ISO模型：
由国际标准化组织ISO提出计算机网络应组织为大约七层，称为开放系统互联模型OSI模型，即应用层、表示层、会话层、运输层、网络层、链路层、物理层。
表示层：处理两个系统间交换信息的语法与语义的问题，使通信的应用程序能够解释交换数据的含义（数据表示转化，转换为主机独立的编码），提供数据压缩、数据加密、数据描述的服务
会话层：提供数据交换的定界和同步动能。
对于因特网来说，如果这两层的功能需要的话，可以放在应用层实现。
2、报文、报文段、数据报和帧
数据从发送端系统的协议栈自顶向下，上下中间的链路层交换机和路由器的协议栈，进而向上到达接收端系统的协议栈。路由器和链路层交换机并不实现协议栈中的所有层次，链路层交换机实现了第一层和第二层（链路层、物理层），路由器实现了第一层到第三层（物理层、链路层、网络层，网络层决定方向）。因特网路由器能够实现IP协议（第三层协议），链路层交换机不能，但是链路层交换机能够识别第二层的地址，如以太网地址。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20200323211118389.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQwODUxNzQ0,size_16,color_FFFFFF,t_70 =1000x)
封装：在发送主机，应用层报文被传送到运输层，运输层读取报文并附上附加信息（运输层首部信息，上图中的Ht），可以被接收端的运输层使用。
对于一个信息，首先发送端的主机将信息经过五层（全部的因特网协议）进行一个封装；然后到达交换机，交换机向上解析两层，获得链路层层次的目的地址，再重新封装两层的协议（这个时候协议中的目的地址可能已经发生了改变），然后进行传输；然后路由器向上解析三层，获得网络层层次的目的地址，再重新封装三层的协议（这个时候协议中的目的地址可能已经发生了改变），然后进行传输；到达接收端的主机后，主机向上解析五层，获得被封装的信息。
应用层报文和运输层首部信息共同构成了运输层报文段。运输层报文段因此封装了应用层报文，附加的信息可能包括（允许接收端运输层向上向适当的应用程序交付报文的信息；差错检测比特信息，利用信息接收方能够判断报文中的比特是否发生错误和丢失）
运输层向网络层传递报文段，网络层增加了如源和目的端系统地址等网络层首部信息（上图中的Hn），形成了网络层数据报，该数据报接下来被传递给链路层。
链路层增加了他的首部信息并创建了链路层帧。
在每一层，分组有两种类型的字段：首部字段和有效载荷字段，有效载荷通常来自上一层的分组。
分层的好处：灵活性。
